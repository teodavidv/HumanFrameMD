(function(){
"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _regenerator(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof Generator?n:Generator,u=Object.create(c.prototype);return _regeneratorDefine2(u,"_invoke",function(r,n,o){var i,c,u,f=0,p=o||[],y=!1,G={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function d(t,r){return i=t,c=0,u=e,G.n=r,a}};function d(r,n){for(c=r,u=n,t=0;!y&&f&&!o&&t<p.length;t++){var o,i=p[t],d=G.p,l=i[2];r>3?(o=l===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,G.v=n,G.n=i[1]):d<l&&(o=r<3||i[0]>n||n>l)&&(i[4]=r,i[5]=n,G.n=l,c=0))}if(o||r>1)return a;throw y=!0,n}return function(o,p,l){if(f>1)throw TypeError("Generator is already running");for(y&&1===p&&d(p,l),c=p,u=l;(t=c<2?e:u)||!y;){i||(c?c<3?(c>1&&(G.n=-1),d(c,u)):G.n=u:G.v=u);try{if(f=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i["return"])&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(y=G.n<0)?u:r.call(n,G))!==a)break}catch(t){i=e,c=1,u=t}finally{f=1}}return{value:t,done:y}}}(r,o,i),!0),u}var a={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(_regeneratorDefine2(t={},n,function(){return this}),t),u=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,_regeneratorDefine2(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return GeneratorFunction.prototype=GeneratorFunctionPrototype,_regeneratorDefine2(u,"constructor",GeneratorFunctionPrototype),_regeneratorDefine2(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName="GeneratorFunction",_regeneratorDefine2(GeneratorFunctionPrototype,o,"GeneratorFunction"),_regeneratorDefine2(u),_regeneratorDefine2(u,o,"Generator"),_regeneratorDefine2(u,n,function(){return this}),_regeneratorDefine2(u,"toString",function(){return"[object Generator]"}),(_regenerator=function _regenerator(){return{w:i,m:f}})()}function _regeneratorDefine2(e,r,n,t){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}_regeneratorDefine2=function _regeneratorDefine(e,r,n,t){function o(r,n){_regeneratorDefine2(e,r,function(e){return this._invoke(r,n,e)})}r?i?i(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n:(o("next",0),o("throw",1),o("return",2))},_regeneratorDefine2(e,r,n,t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n4=0,F=function F(){};return{s:F,n:function n(){return _n4>=r.length?{done:!0}:{done:!1,value:r[_n4++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}(function(){var vs=Object.create;var Ne=Object.defineProperty,ys=Object.defineProperties,bs=Object.getOwnPropertyDescriptor,ws=Object.getOwnPropertyDescriptors,_s=Object.getOwnPropertyNames,le=Object.getOwnPropertySymbols,Ss=Object.getPrototypeOf,Ve=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable;var Pt=function Pt(e,t,r){return t in e?Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},p=function p(e,t){for(var r in t||(t={}))Ve.call(t,r)&&Pt(e,r,t[r]);if(le){var _iterator=_createForOfIteratorHelper(le(t)),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var r=_step.value;Ct.call(t,r)&&Pt(e,r,t[r])}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return e},D=function D(e,t){return ys(e,ws(t))};var Dt=function Dt(e,t){var r={};for(var o in e)Ve.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&le){var _iterator2=_createForOfIteratorHelper(le(e)),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var o=_step2.value;t.indexOf(o)<0&&Ct.call(e,o)&&(r[o]=e[o])}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}return r};var i=function i(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}};var xs=function xs(e,t,r,o){if(t&&_typeof(t)=="object"||typeof t=="function"){var _iterator3=_createForOfIteratorHelper(_s(t)),_step3;try{var _loop=function _loop(){var n=_step3.value;!Ve.call(e,n)&&n!==r&&Ne(e,n,{get:function get(){return t[n]},enumerable:!(o=bs(t,n))||o.enumerable})};for(_iterator3.s();!(_step3=_iterator3.n()).done;){_loop()}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}return e};var Lt=function Lt(e,t,r){return r=e!=null?vs(Ss(e)):{},xs(t||!e||!e.__esModule?Ne(r,"default",{value:e,enumerable:!0}):r,e)};var Ht=i(function(rg,$t){function qs(){this.__data__=[],this.size=0}$t.exports=qs});var Ye=i(function(og,Kt){function Is(e,t){return e===t||e!==e&&t!==t}Kt.exports=Is});var Y=i(function(ng,Wt){var ks=Ye();function Ps(e,t){for(var r=e.length;r--;)if(ks(e[r][0],t))return r;return-1}Wt.exports=Ps});var Xt=i(function(ig,Qt){var Cs=Y(),Ds=Array.prototype,Ls=Ds.splice;function js(e){var t=this.__data__,r=Cs(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():Ls.call(t,r,1),--this.size,!0}Qt.exports=js});var Jt=i(function(sg,Yt){var Us=Y();function Rs(e){var t=this.__data__,r=Us(t,e);return r<0?void 0:t[r][1]}Yt.exports=Rs});var er=i(function(ag,Zt){var Fs=Y();function Ms(e){return Fs(this.__data__,e)>-1}Zt.exports=Ms});var rr=i(function(cg,tr){var Ns=Y();function Vs(e,t){var r=this.__data__,o=Ns(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}tr.exports=Vs});var J=i(function(ug,or){var zs=Ht(),Gs=Xt(),Bs=Jt(),$s=er(),Hs=rr();function F(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}F.prototype.clear=zs;F.prototype["delete"]=Gs;F.prototype.get=Bs;F.prototype.has=$s;F.prototype.set=Hs;or.exports=F});var ir=i(function(lg,nr){var Ks=J();function Ws(){this.__data__=new Ks,this.size=0}nr.exports=Ws});var ar=i(function(mg,sr){function Qs(e){var t=this.__data__,r=t["delete"](e);return this.size=t.size,r}sr.exports=Qs});var ur=i(function(pg,cr){function Xs(e){return this.__data__.get(e)}cr.exports=Xs});var mr=i(function(dg,lr){function Ys(e){return this.__data__.has(e)}lr.exports=Ys});var Je=i(function(fg,pr){var Js=(typeof global==="undefined"?"undefined":_typeof(global))=="object"&&global&&global.Object===Object&&global;pr.exports=Js});var w=i(function(gg,dr){var Zs=Je(),ea=(typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self&&self.Object===Object&&self,ta=Zs||ea||Function("return this")();dr.exports=ta});var ve=i(function(hg,fr){var ra=w(),oa=ra.Symbol;fr.exports=oa});var yr=i(function(vg,vr){var gr=ve(),hr=Object.prototype,na=hr.hasOwnProperty,ia=hr.toString,Z=gr?gr.toStringTag:void 0;function sa(e){var t=na.call(e,Z),r=e[Z];try{e[Z]=void 0;var o=!0}catch(s){}var n=ia.call(e);return o&&(t?e[Z]=r:delete e[Z]),n}vr.exports=sa});var wr=i(function(yg,br){var aa=Object.prototype,ca=aa.toString;function ua(e){return ca.call(e)}br.exports=ua});var ee=i(function(bg,xr){var _r=ve(),la=yr(),ma=wr(),pa="[object Null]",da="[object Undefined]",Sr=_r?_r.toStringTag:void 0;function fa(e){return e==null?e===void 0?da:pa:Sr&&Sr in Object(e)?la(e):ma(e)}xr.exports=fa});var L=i(function(wg,Tr){function ga(e){var t=_typeof(e);return e!=null&&(t=="object"||t=="function")}Tr.exports=ga});var Ze=i(function(_g,Er){var ha=ee(),va=L(),ya="[object AsyncFunction]",ba="[object Function]",wa="[object GeneratorFunction]",_a="[object Proxy]";function Sa(e){if(!va(e))return!1;var t=ha(e);return t==ba||t==wa||t==ya||t==_a}Er.exports=Sa});var Or=i(function(Sg,Ar){var xa=w(),Ta=xa["__core-js_shared__"];Ar.exports=Ta});var kr=i(function(xg,Ir){var et=Or(),qr=function(){var e=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ea(e){return!!qr&&qr in e}Ir.exports=Ea});var tt=i(function(Tg,Pr){var Aa=Function.prototype,Oa=Aa.toString;function qa(e){if(e!=null){try{return Oa.call(e)}catch(t){}try{return e+""}catch(t){}}return""}Pr.exports=qa});var Dr=i(function(Eg,Cr){var Ia=Ze(),ka=kr(),Pa=L(),Ca=tt(),Da=/[\\^$.*+?()[\]{}|]/g,La=/^\[object .+?Constructor\]$/,ja=Function.prototype,Ua=Object.prototype,Ra=ja.toString,Fa=Ua.hasOwnProperty,Ma=RegExp("^"+Ra.call(Fa).replace(Da,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Na(e){if(!Pa(e)||ka(e))return!1;var t=Ia(e)?Ma:La;return t.test(Ca(e))}Cr.exports=Na});var jr=i(function(Ag,Lr){function Va(e,t){return e==null?void 0:e[t]}Lr.exports=Va});var P=i(function(Og,Ur){var za=Dr(),Ga=jr();function Ba(e,t){var r=Ga(e,t);return za(r)?r:void 0}Ur.exports=Ba});var ye=i(function(qg,Rr){var $a=P(),Ha=w(),Ka=$a(Ha,"Map");Rr.exports=Ka});var te=i(function(Ig,Fr){var Wa=P(),Qa=Wa(Object,"create");Fr.exports=Qa});var Vr=i(function(kg,Nr){var Mr=te();function Xa(){this.__data__=Mr?Mr(null):{},this.size=0}Nr.exports=Xa});var Gr=i(function(Pg,zr){function Ya(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}zr.exports=Ya});var $r=i(function(Cg,Br){var Ja=te(),Za="__lodash_hash_undefined__",ec=Object.prototype,tc=ec.hasOwnProperty;function rc(e){var t=this.__data__;if(Ja){var r=t[e];return r===Za?void 0:r}return tc.call(t,e)?t[e]:void 0}Br.exports=rc});var Kr=i(function(Dg,Hr){var oc=te(),nc=Object.prototype,ic=nc.hasOwnProperty;function sc(e){var t=this.__data__;return oc?t[e]!==void 0:ic.call(t,e)}Hr.exports=sc});var Qr=i(function(Lg,Wr){var ac=te(),cc="__lodash_hash_undefined__";function uc(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ac&&t===void 0?cc:t,this}Wr.exports=uc});var Yr=i(function(jg,Xr){var lc=Vr(),mc=Gr(),pc=$r(),dc=Kr(),fc=Qr();function M(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}M.prototype.clear=lc;M.prototype["delete"]=mc;M.prototype.get=pc;M.prototype.has=dc;M.prototype.set=fc;Xr.exports=M});var eo=i(function(Ug,Zr){var Jr=Yr(),gc=J(),hc=ye();function vc(){this.size=0,this.__data__={hash:new Jr,map:new(hc||gc),string:new Jr}}Zr.exports=vc});var ro=i(function(Rg,to){function yc(e){var t=_typeof(e);return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}to.exports=yc});var re=i(function(Fg,oo){var bc=ro();function wc(e,t){var r=e.__data__;return bc(t)?r[typeof t=="string"?"string":"hash"]:r.map}oo.exports=wc});var io=i(function(Mg,no){var _c=re();function Sc(e){var t=_c(this,e)["delete"](e);return this.size-=t?1:0,t}no.exports=Sc});var ao=i(function(Ng,so){var xc=re();function Tc(e){return xc(this,e).get(e)}so.exports=Tc});var uo=i(function(Vg,co){var Ec=re();function Ac(e){return Ec(this,e).has(e)}co.exports=Ac});var mo=i(function(zg,lo){var Oc=re();function qc(e,t){var r=Oc(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}lo.exports=qc});var fo=i(function(Gg,po){var Ic=eo(),kc=io(),Pc=ao(),Cc=uo(),Dc=mo();function N(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}N.prototype.clear=Ic;N.prototype["delete"]=kc;N.prototype.get=Pc;N.prototype.has=Cc;N.prototype.set=Dc;po.exports=N});var ho=i(function(Bg,go){var Lc=J(),jc=ye(),Uc=fo(),Rc=200;function Fc(e,t){var r=this.__data__;if(r instanceof Lc){var o=r.__data__;if(!jc||o.length<Rc-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Uc(o)}return r.set(e,t),this.size=r.size,this}go.exports=Fc});var yo=i(function($g,vo){var Mc=J(),Nc=ir(),Vc=ar(),zc=ur(),Gc=mr(),Bc=ho();function V(e){var t=this.__data__=new Mc(e);this.size=t.size}V.prototype.clear=Nc;V.prototype["delete"]=Vc;V.prototype.get=zc;V.prototype.has=Gc;V.prototype.set=Bc;vo.exports=V});var wo=i(function(Hg,bo){function $c(e,t){for(var r=-1,o=e==null?0:e.length;++r<o&&t(e[r],r,e)!==!1;);return e}bo.exports=$c});var So=i(function(Kg,_o){var Hc=P(),Kc=function(){try{var e=Hc(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();_o.exports=Kc});var rt=i(function(Wg,To){var xo=So();function Wc(e,t,r){t=="__proto__"&&xo?xo(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}To.exports=Wc});var ot=i(function(Qg,Eo){var Qc=rt(),Xc=Ye(),Yc=Object.prototype,Jc=Yc.hasOwnProperty;function Zc(e,t,r){var o=e[t];(!(Jc.call(e,t)&&Xc(o,r))||r===void 0&&!(t in e))&&Qc(e,t,r)}Eo.exports=Zc});var oe=i(function(Xg,Ao){var eu=ot(),tu=rt();function ru(e,t,r,o){var n=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var c=t[s],m=o?o(r[c],e[c],c,r,e):void 0;m===void 0&&(m=e[c]),n?tu(r,c,m):eu(r,c,m)}return r}Ao.exports=ru});var qo=i(function(Yg,Oo){function ou(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}Oo.exports=ou});var z=i(function(Jg,Io){function nu(e){return e!=null&&_typeof(e)=="object"}Io.exports=nu});var Po=i(function(Zg,ko){var iu=ee(),su=z(),au="[object Arguments]";function cu(e){return su(e)&&iu(e)==au}ko.exports=cu});var jo=i(function(eh,Lo){var Co=Po(),uu=z(),Do=Object.prototype,lu=Do.hasOwnProperty,mu=Do.propertyIsEnumerable,pu=Co(function(){return arguments}())?Co:function(e){return uu(e)&&lu.call(e,"callee")&&!mu.call(e,"callee")};Lo.exports=pu});var be=i(function(th,Uo){var du=Array.isArray;Uo.exports=du});var Fo=i(function(rh,Ro){function fu(){return!1}Ro.exports=fu});var nt=i(function(ne,G){var gu=w(),hu=Fo(),Vo=_typeof(ne)=="object"&&ne&&!ne.nodeType&&ne,Mo=Vo&&_typeof(G)=="object"&&G&&!G.nodeType&&G,vu=Mo&&Mo.exports===Vo,No=vu?gu.Buffer:void 0,yu=No?No.isBuffer:void 0,bu=yu||hu;G.exports=bu});var Go=i(function(oh,zo){var wu=9007199254740991,_u=/^(?:0|[1-9]\d*)$/;function Su(e,t){var r=_typeof(e);return t=t==null?wu:t,!!t&&(r=="number"||r!="symbol"&&_u.test(e))&&e>-1&&e%1==0&&e<t}zo.exports=Su});var it=i(function(nh,Bo){var xu=9007199254740991;function Tu(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=xu}Bo.exports=Tu});var Ho=i(function(ih,$o){var Eu=ee(),Au=it(),Ou=z(),qu="[object Arguments]",Iu="[object Array]",ku="[object Boolean]",Pu="[object Date]",Cu="[object Error]",Du="[object Function]",Lu="[object Map]",ju="[object Number]",Uu="[object Object]",Ru="[object RegExp]",Fu="[object Set]",Mu="[object String]",Nu="[object WeakMap]",Vu="[object ArrayBuffer]",zu="[object DataView]",Gu="[object Float32Array]",Bu="[object Float64Array]",$u="[object Int8Array]",Hu="[object Int16Array]",Ku="[object Int32Array]",Wu="[object Uint8Array]",Qu="[object Uint8ClampedArray]",Xu="[object Uint16Array]",Yu="[object Uint32Array]",f={};f[Gu]=f[Bu]=f[$u]=f[Hu]=f[Ku]=f[Wu]=f[Qu]=f[Xu]=f[Yu]=!0;f[qu]=f[Iu]=f[Vu]=f[ku]=f[zu]=f[Pu]=f[Cu]=f[Du]=f[Lu]=f[ju]=f[Uu]=f[Ru]=f[Fu]=f[Mu]=f[Nu]=!1;function Ju(e){return Ou(e)&&Au(e.length)&&!!f[Eu(e)]}$o.exports=Ju});var we=i(function(sh,Ko){function Zu(e){return function(t){return e(t)}}Ko.exports=Zu});var _e=i(function(ie,B){var el=Je(),Wo=_typeof(ie)=="object"&&ie&&!ie.nodeType&&ie,se=Wo&&_typeof(B)=="object"&&B&&!B.nodeType&&B,tl=se&&se.exports===Wo,st=tl&&el.process,rl=function(){try{var e=se&&se.require&&se.require("util").types;return e||st&&st.binding&&st.binding("util")}catch(t){}}();B.exports=rl});var Jo=i(function(ah,Yo){var ol=Ho(),nl=we(),Qo=_e(),Xo=Qo&&Qo.isTypedArray,il=Xo?nl(Xo):ol;Yo.exports=il});var at=i(function(ch,Zo){var sl=qo(),al=jo(),cl=be(),ul=nt(),ll=Go(),ml=Jo(),pl=Object.prototype,dl=pl.hasOwnProperty;function fl(e,t){var r=cl(e),o=!r&&al(e),n=!r&&!o&&ul(e),s=!r&&!o&&!n&&ml(e),a=r||o||n||s,c=a?sl(e.length,String):[],m=c.length;for(var g in e)(t||dl.call(e,g))&&!(a&&(g=="length"||n&&(g=="offset"||g=="parent")||s&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||ll(g,m)))&&c.push(g);return c}Zo.exports=fl});var Se=i(function(uh,en){var gl=Object.prototype;function hl(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||gl;return e===r}en.exports=hl});var ct=i(function(lh,tn){function vl(e,t){return function(r){return e(t(r))}}tn.exports=vl});var on=i(function(mh,rn){var yl=ct(),bl=yl(Object.keys,Object);rn.exports=bl});var sn=i(function(ph,nn){var wl=Se(),_l=on(),Sl=Object.prototype,xl=Sl.hasOwnProperty;function Tl(e){if(!wl(e))return _l(e);var t=[];for(var r in Object(e))xl.call(e,r)&&r!="constructor"&&t.push(r);return t}nn.exports=Tl});var ut=i(function(dh,an){var El=Ze(),Al=it();function Ol(e){return e!=null&&Al(e.length)&&!El(e)}an.exports=Ol});var xe=i(function(fh,cn){var ql=at(),Il=sn(),kl=ut();function Pl(e){return kl(e)?ql(e):Il(e)}cn.exports=Pl});var ln=i(function(gh,un){var Cl=oe(),Dl=xe();function Ll(e,t){return e&&Cl(t,Dl(t),e)}un.exports=Ll});var pn=i(function(hh,mn){function jl(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}mn.exports=jl});var fn=i(function(vh,dn){var Ul=L(),Rl=Se(),Fl=pn(),Ml=Object.prototype,Nl=Ml.hasOwnProperty;function Vl(e){if(!Ul(e))return Fl(e);var t=Rl(e),r=[];for(var o in e)o=="constructor"&&(t||!Nl.call(e,o))||r.push(o);return r}dn.exports=Vl});var Te=i(function(yh,gn){var zl=at(),Gl=fn(),Bl=ut();function $l(e){return Bl(e)?zl(e,!0):Gl(e)}gn.exports=$l});var vn=i(function(bh,hn){var Hl=oe(),Kl=Te();function Wl(e,t){return e&&Hl(t,Kl(t),e)}hn.exports=Wl});var Sn=i(function(ae,$){var Ql=w(),_n=_typeof(ae)=="object"&&ae&&!ae.nodeType&&ae,yn=_n&&_typeof($)=="object"&&$&&!$.nodeType&&$,Xl=yn&&yn.exports===_n,bn=Xl?Ql.Buffer:void 0,wn=bn?bn.allocUnsafe:void 0;function Yl(e,t){if(t)return e.slice();var r=e.length,o=wn?wn(r):new e.constructor(r);return e.copy(o),o}$.exports=Yl});var Tn=i(function(wh,xn){function Jl(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}xn.exports=Jl});var An=i(function(_h,En){function Zl(e,t){for(var r=-1,o=e==null?0:e.length,n=0,s=[];++r<o;){var a=e[r];t(a,r,e)&&(s[n++]=a)}return s}En.exports=Zl});var lt=i(function(Sh,On){function em(){return[]}On.exports=em});var Ee=i(function(xh,In){var tm=An(),rm=lt(),om=Object.prototype,nm=om.propertyIsEnumerable,qn=Object.getOwnPropertySymbols,im=qn?function(e){return e==null?[]:(e=Object(e),tm(qn(e),function(t){return nm.call(e,t)}))}:rm;In.exports=im});var Pn=i(function(Th,kn){var sm=oe(),am=Ee();function cm(e,t){return sm(e,am(e),t)}kn.exports=cm});var mt=i(function(Eh,Cn){function um(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}Cn.exports=um});var pt=i(function(Ah,Dn){var lm=ct(),mm=lm(Object.getPrototypeOf,Object);Dn.exports=mm});var dt=i(function(Oh,Ln){var pm=mt(),dm=pt(),fm=Ee(),gm=lt(),hm=Object.getOwnPropertySymbols,vm=hm?function(e){for(var t=[];e;)pm(t,fm(e)),e=dm(e);return t}:gm;Ln.exports=vm});var Un=i(function(qh,jn){var ym=oe(),bm=dt();function wm(e,t){return ym(e,bm(e),t)}jn.exports=wm});var ft=i(function(Ih,Rn){var _m=mt(),Sm=be();function xm(e,t,r){var o=t(e);return Sm(e)?o:_m(o,r(e))}Rn.exports=xm});var Mn=i(function(kh,Fn){var Tm=ft(),Em=Ee(),Am=xe();function Om(e){return Tm(e,Am,Em)}Fn.exports=Om});var Vn=i(function(Ph,Nn){var qm=ft(),Im=dt(),km=Te();function Pm(e){return qm(e,km,Im)}Nn.exports=Pm});var Gn=i(function(Ch,zn){var Cm=P(),Dm=w(),Lm=Cm(Dm,"DataView");zn.exports=Lm});var $n=i(function(Dh,Bn){var jm=P(),Um=w(),Rm=jm(Um,"Promise");Bn.exports=Rm});var Kn=i(function(Lh,Hn){var Fm=P(),Mm=w(),Nm=Fm(Mm,"Set");Hn.exports=Nm});var Qn=i(function(jh,Wn){var Vm=P(),zm=w(),Gm=Vm(zm,"WeakMap");Wn.exports=Gm});var Ae=i(function(Uh,ri){var gt=Gn(),ht=ye(),vt=$n(),yt=Kn(),bt=Qn(),ti=ee(),H=tt(),Xn="[object Map]",Bm="[object Object]",Yn="[object Promise]",Jn="[object Set]",Zn="[object WeakMap]",ei="[object DataView]",$m=H(gt),Hm=H(ht),Km=H(vt),Wm=H(yt),Qm=H(bt),j=ti;(gt&&j(new gt(new ArrayBuffer(1)))!=ei||ht&&j(new ht)!=Xn||vt&&j(vt.resolve())!=Yn||yt&&j(new yt)!=Jn||bt&&j(new bt)!=Zn)&&(j=function j(e){var t=ti(e),r=t==Bm?e.constructor:void 0,o=r?H(r):"";if(o)switch(o){case $m:return ei;case Hm:return Xn;case Km:return Yn;case Wm:return Jn;case Qm:return Zn}return t});ri.exports=j});var ni=i(function(Rh,oi){var Xm=Object.prototype,Ym=Xm.hasOwnProperty;function Jm(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Ym.call(e,"index")&&(r.index=e.index,r.input=e.input),r}oi.exports=Jm});var si=i(function(Fh,ii){var Zm=w(),ep=Zm.Uint8Array;ii.exports=ep});var Oe=i(function(Mh,ci){var ai=si();function tp(e){var t=new e.constructor(e.byteLength);return new ai(t).set(new ai(e)),t}ci.exports=tp});var li=i(function(Nh,ui){var rp=Oe();function op(e,t){var r=t?rp(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}ui.exports=op});var pi=i(function(Vh,mi){var np=/\w*$/;function ip(e){var t=new e.constructor(e.source,np.exec(e));return t.lastIndex=e.lastIndex,t}mi.exports=ip});var vi=i(function(zh,hi){var di=ve(),fi=di?di.prototype:void 0,gi=fi?fi.valueOf:void 0;function sp(e){return gi?Object(gi.call(e)):{}}hi.exports=sp});var bi=i(function(Gh,yi){var ap=Oe();function cp(e,t){var r=t?ap(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}yi.exports=cp});var _i=i(function(Bh,wi){var up=Oe(),lp=li(),mp=pi(),pp=vi(),dp=bi(),fp="[object Boolean]",gp="[object Date]",hp="[object Map]",vp="[object Number]",yp="[object RegExp]",bp="[object Set]",wp="[object String]",_p="[object Symbol]",Sp="[object ArrayBuffer]",xp="[object DataView]",Tp="[object Float32Array]",Ep="[object Float64Array]",Ap="[object Int8Array]",Op="[object Int16Array]",qp="[object Int32Array]",Ip="[object Uint8Array]",kp="[object Uint8ClampedArray]",Pp="[object Uint16Array]",Cp="[object Uint32Array]";function Dp(e,t,r){var o=e.constructor;switch(t){case Sp:return up(e);case fp:case gp:return new o(+e);case xp:return lp(e,r);case Tp:case Ep:case Ap:case Op:case qp:case Ip:case kp:case Pp:case Cp:return dp(e,r);case hp:return new o;case vp:case wp:return new o(e);case yp:return mp(e);case bp:return new o;case _p:return pp(e)}}wi.exports=Dp});var Ti=i(function($h,xi){var Lp=L(),Si=Object.create,jp=function(){function e(){}return function(t){if(!Lp(t))return{};if(Si)return Si(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();xi.exports=jp});var Ai=i(function(Hh,Ei){var Up=Ti(),Rp=pt(),Fp=Se();function Mp(e){return typeof e.constructor=="function"&&!Fp(e)?Up(Rp(e)):{}}Ei.exports=Mp});var qi=i(function(Kh,Oi){var Np=Ae(),Vp=z(),zp="[object Map]";function Gp(e){return Vp(e)&&Np(e)==zp}Oi.exports=Gp});var Ci=i(function(Wh,Pi){var Bp=qi(),$p=we(),Ii=_e(),ki=Ii&&Ii.isMap,Hp=ki?$p(ki):Bp;Pi.exports=Hp});var Li=i(function(Qh,Di){var Kp=Ae(),Wp=z(),Qp="[object Set]";function Xp(e){return Wp(e)&&Kp(e)==Qp}Di.exports=Xp});var Fi=i(function(Xh,Ri){var Yp=Li(),Jp=we(),ji=_e(),Ui=ji&&ji.isSet,Zp=Ui?Jp(Ui):Yp;Ri.exports=Zp});var Gi=i(function(Yh,zi){var ed=yo(),td=wo(),rd=ot(),od=ln(),nd=vn(),id=Sn(),sd=Tn(),ad=Pn(),cd=Un(),ud=Mn(),ld=Vn(),md=Ae(),pd=ni(),dd=_i(),fd=Ai(),gd=be(),hd=nt(),vd=Ci(),yd=L(),bd=Fi(),wd=xe(),_d=Te(),Sd=1,xd=2,Td=4,Mi="[object Arguments]",Ed="[object Array]",Ad="[object Boolean]",Od="[object Date]",qd="[object Error]",Ni="[object Function]",Id="[object GeneratorFunction]",kd="[object Map]",Pd="[object Number]",Vi="[object Object]",Cd="[object RegExp]",Dd="[object Set]",Ld="[object String]",jd="[object Symbol]",Ud="[object WeakMap]",Rd="[object ArrayBuffer]",Fd="[object DataView]",Md="[object Float32Array]",Nd="[object Float64Array]",Vd="[object Int8Array]",zd="[object Int16Array]",Gd="[object Int32Array]",Bd="[object Uint8Array]",$d="[object Uint8ClampedArray]",Hd="[object Uint16Array]",Kd="[object Uint32Array]",d={};d[Mi]=d[Ed]=d[Rd]=d[Fd]=d[Ad]=d[Od]=d[Md]=d[Nd]=d[Vd]=d[zd]=d[Gd]=d[kd]=d[Pd]=d[Vi]=d[Cd]=d[Dd]=d[Ld]=d[jd]=d[Bd]=d[$d]=d[Hd]=d[Kd]=!0;d[qd]=d[Ni]=d[Ud]=!1;function qe(e,t,r,o,n,s){var a,c=t&Sd,m=t&xd,g=t&Td;if(r&&(a=n?r(e,o,n,s):r(e)),a!==void 0)return a;if(!yd(e))return e;var T=gd(e);if(T){if(a=pd(e),!c)return sd(e,a)}else{var _=md(e),ue=_==Ni||_==Id;if(hd(e))return id(e,c);if(_==Vi||_==Mi||ue&&!n){if(a=m||ue?{}:fd(e),!c)return m?cd(e,nd(a,e)):ad(e,od(a,e))}else{if(!d[_])return n?e:{};a=dd(e,_,c)}}s||(s=new ed);var It=s.get(e);if(It)return It;s.set(e,a),bd(e)?e.forEach(function(q){a.add(qe(q,t,r,q,e,s))}):vd(e)&&e.forEach(function(q,C){a.set(C,qe(q,t,r,C,e,s))});var hs=g?m?ld:ud:m?_d:wd,kt=T?void 0:hs(e);return td(kt||e,function(q,C){kt&&(C=q,q=e[C]),rd(a,C,qe(q,t,r,C,e,s))}),a}zi.exports=qe});var $i=i(function(Jh,Bi){var Wd=Gi(),Qd=1,Xd=4;function Yd(e){return Wd(e,Qd|Xd)}Bi.exports=Yd});var jt=function jt(){window.ours_data||(window.ours_data={}),window.ours_data.sdk_initialized=!0},me={set:function set(e){window.ours_data||(window.ours_data={}),window.ours_data.visitor_id=e},get:function get(){var e;return(e=window.ours_data)==null?void 0:e.visitor_id}},U={set:function set(e){window.ours_data||(window.ours_data={}),window.ours_data.is_manually_set_id=e},get:function get(){var e;return(e=window.ours_data)==null?void 0:e.is_manually_set_id}};var u={error:function error(e){try{var _console;for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key]}(_console=console).error.apply(_console,[e].concat(t))}catch(r){}},warn:function warn(e){try{var _console2;for(var _len2=arguments.length,t=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){t[_key2-1]=arguments[_key2]}(_console2=console).warn.apply(_console2,[e].concat(t))}catch(r){}},info:function info(e){try{var _console3;for(var _len3=arguments.length,t=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){t[_key3-1]=arguments[_key3]}(_console3=console).info.apply(_console3,[e].concat(t))}catch(r){}},debug:function debug(e){try{var _console4;for(var _len4=arguments.length,t=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){t[_key4-1]=arguments[_key4]}(_console4=console).debug.apply(_console4,[e].concat(t))}catch(r){}}};var pe=/*#__PURE__*/function(){function pe(){_classCallCheck(this,pe);this.isListening=!1;this.messageHandler=this.handleMessage.bind(this)}return _createClass(pe,[{key:"initialize",value:function initialize(){this.isListening||(window.addEventListener("message",this.messageHandler),this.isListening=!0,u.debug("[Ours] - Post message listener initialized"))}},{key:"cleanup",value:function cleanup(){this.isListening&&(window.removeEventListener("message",this.messageHandler),this.isListening=!1,u.debug("[Ours] - Post message listener cleaned up"))}},{key:"handleMessage",value:function handleMessage(t){var r=t.data;r.type==="ours-privacy-video-event"&&this.processVideoEvent(r.eventName,r.data)}},{key:"processVideoEvent",value:function processVideoEvent(t,r){var n;var o=["track",t,r,void 0,void 0];(n=window.ours)!=null&&n.queue?window.ours.queue.push(o):u.warn("[Ours] - Queue not initialized when processing video event")}}])}();var de=function de(e){try{return sessionStorage.getItem(e)}catch(t){return null}},W=function W(e,t){try{sessionStorage.setItem(e,t)}catch(r){}};var Ut=function Ut(){try{var e=new URLSearchParams(window.location.search),t=e.get("gtm_debug"),r=e.get("ours_debug_mode"),n=(window.document.documentElement.getAttribute("data-tag-assistant-present")||"").length>2;return(t||r||n)&&W("ours_debug_view","true"),!!(r||t||n||de("ours_debug_view"))}catch(e){return u.error("[Ours] Error determining debug mode",e),!1}};var b=[],I=0,fe=4,Ts=0,v=function v(e){var t=[],r={get:function get(){return r.lc||r.listen(function(){})(),r.value},lc:0,listen:function listen(o){return r.lc=t.push(o),function(){for(var s=I+fe;s<b.length;)b[s]===o?b.splice(s,fe):s+=fe;var n=t.indexOf(o);~n&&(t.splice(n,1),--r.lc||r.off())}},notify:function notify(o,n){Ts++;var s=!b.length;for(var _i2=0,_t2=t;_i2<_t2.length;_i2++){var a=_t2[_i2];b.push(a,r.value,o,n)}if(s){for(I=0;I<b.length;I+=fe)b[I](b[I+1],b[I+2],b[I+3]);b.length=0}},off:function off(){},set:function set(o){var n=r.value;n!==o&&(r.value=o,r.notify(n))},subscribe:function subscribe(o){var n=r.listen(o);return o(r.value),n},value:e};return r};var ze=v(!1),Ge=v(!1),Be=v(!1),Q=v({}),$e=v({}),He=v({}),ge=v(!1),R=v(null),X=v(null),y=v(null),Ke="https://cdn.oursprivacy.com",Rt="https://ipv4-cdn.oursprivacy.com";if(!Ke)throw new Error("No cdnUrl");if(!Rt)throw new Error("No ipv4CdnUrl");var Ft={setIsDebugMode:function setIsDebugMode(e){ze.set(!!e)},getIsDebugMode:ze.get,isDebugModeAtom:ze,setTrackWebEvents:function setTrackWebEvents(e){Ge.set(!!e)},getTrackWebEvents:function getTrackWebEvents(){return Ge.get()},trackWebEventsAtom:Ge,setEnhancedWebEvents:function setEnhancedWebEvents(e){Be.set(!!e)},getEnhancedWebEvents:Be.get,enhancedWebEventsAtom:Be,setDefaultEventProperties:function setDefaultEventProperties(e){if(_typeof(e)!="object"||e===null)throw new TypeError("Default event properties must be an object");Q.set(e)},appendDefaultEventProperties:function appendDefaultEventProperties(e){if(_typeof(e)!="object"||e===null)throw new TypeError("Default event properties must be an object");Q.set(p(p({},Q.get()),e))},getDefaultEventProperties:Q.get,defaultEventPropertiesAtom:Q,setDefaultUserCustomProperties:function setDefaultUserCustomProperties(e){if(_typeof(e)!="object"||e===null)throw new TypeError("Default user custom properties must be an object");$e.set(e)},getDefaultUserCustomProperties:$e.get,defaultUserCustomPropertiesAtom:$e,setDefaultUserConsentProperties:function setDefaultUserConsentProperties(e){if(_typeof(e)!="object"||e===null)throw new TypeError("Default user consent properties must be an object");He.set(e)},getDefaultUserConsentProperties:He.get,defaultUserConsentPropertiesAtom:He,setForceIpv4:function setForceIpv4(e){ge.set(!!e)},getForceIpv4:ge.get,forceIpv4Atom:ge,setCustomDomain:function setCustomDomain(e){if(e===null){R.set(null);return}if(typeof e!="string"||e==="")throw new TypeError("Custom domain must be a non-empty string");R.set(e)},getCustomDomain:R.get,customDomainAtom:R,setCustomDomainIpv4:function setCustomDomainIpv4(e){if(e===null){X.set(null);return}if(typeof e!="string"||e==="")throw new TypeError("Custom domain must be a non-empty string");X.set(e)},getCustomDomainIpv4:X.get,customDomainIpv4Atom:X,setSessionReplay:function setSessionReplay(e){if(e===null){y.set(null);return}if(_typeof(e)!="object"||e===null)throw new TypeError("Session replay config must be an object");y.set(e)},getSessionReplay:y.get,sessionReplayAtom:y,getSessionReplayToken:function getSessionReplayToken(){var t;var e=y.get();return(t=e==null?void 0:e.token)!=null?t:null},sessionReplayTokenAtom:{get:function get(){var t;var e=y.get();return(t=e==null?void 0:e.token)!=null?t:null},set:function set(e){var t=y.get();y.set(D(p({},t||{}),{token:e}))}},getSessionReplayStart:function getSessionReplayStart(){var e=y.get();return e!=null&&e.token?e.start!==!1:!1},sessionReplayStartAtom:{get:function get(){var e=y.get();return e!=null&&e.token?e.start!==!1:!1},set:function set(e){var t=y.get();y.set(D(p({},t||{}),{start:e}))}},getIngestDomain:function getIngestDomain(){if(ge.get()){var r=X.get()||Rt;return new URL(r)}var e=R.get()||Ke;return new URL(e)},getDomain:function getDomain(){var e=R.get()||Ke;return new URL(e)}};var l=p({},Ft),Mt=function Mt(){window.ours_data=window.ours_data||{},window.ours_data.store=l,l.setIsDebugMode(Ut())};var Nt=function Nt(e){var r;var _t3=function t(){for(var _len5=arguments.length,o=new Array(_len5),_key5=0;_key5<_len5;_key5++){o[_key5]=arguments[_key5]}_t3.queue.push(o),e==null||e()};return _t3.queue=((r=window.ours)==null?void 0:r.queue)||[],_t3.version="1.0",window.ours=_t3,window.ours_data=window.ours_data||{},window.oursLayer=window.oursLayer||[],_t3};var Vt=function Vt(e){return e===null};var zt=function zt(e){return e===void 0};var Gt=function Gt(e){return Vt(e)||zt(e)};var he=function he(e){return!Gt(e)};var h=[];for(var e=0;e<256;++e)h.push((e+256).toString(16).slice(1));function Bt(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return(h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]).toLowerCase()}var We,Es=new Uint8Array(16);function Qe(){if(!We){if((typeof crypto==="undefined"?"undefined":_typeof(crypto))>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");We=crypto.getRandomValues.bind(crypto)}return We(Es)}var As=(typeof crypto==="undefined"?"undefined":_typeof(crypto))<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xe={randomUUID:As};function Os(e,t,r){var n,s,a;if(Xe.randomUUID&&!t&&!e)return Xe.randomUUID();e=e||{};var o=(a=(s=e.random)!=null?s:(n=e.rng)==null?void 0:n.call(e))!=null?a:Qe();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError("UUID byte range ".concat(r,":").concat(r+15," is out of buffer bounds"));for(var c=0;c<16;++c)t[r+c]=o[c];return t}return Bt(o)}var k=Os;var Ji=Lt($i());var S={PAGE_VIEW:"page_view",SCROLL:"scroll",USER_ENGAGEMENT:"user_engagement",VIEW_SEARCH_RESULTS:"view_search_results",CLICK:"click",FILE_DOWNLOAD:"file_download",FORM_START:"form_start",FORM_SUBMIT:"form_submit",VIDEO_START:"video_start",VIDEO_PROGRESS:"video_progress",VIDEO_COMPLETE:"video_complete"},Zh=Object.values(S);var E=function E(e,t){try{localStorage.setItem(e,t)}catch(r){}},x=function x(e){try{return localStorage.getItem(e)}catch(t){return}};var Ie=/*#__PURE__*/function(){function Ie(){_classCallCheck(this,Ie);this.activeStartTimestamp=Date.now();this.accumulatedActiveTime=0;this.lastActiveDuration=null;this.eventCount=0;document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this))}return _createClass(Ie,[{key:"handleVisibilityChange",value:function handleVisibilityChange(){document.hidden?this.accumulatedActiveTime+=Date.now()-this.activeStartTimestamp:this.activeStartTimestamp=Date.now()}},{key:"getCurrentDuration",value:function getCurrentDuration(){var t=this.accumulatedActiveTime;return document.hidden||(t+=Date.now()-this.activeStartTimestamp),t}},{key:"recordEvent",value:function recordEvent(){this.eventCount++,this.lastActiveDuration=this.getCurrentDuration()}},{key:"getEventCount",value:function getEventCount(){return this.eventCount}},{key:"getTimeSinceLastEvent",value:function getTimeSinceLastEvent(){return this.lastActiveDuration===null?void 0:{_et:this.getCurrentDuration()-this.lastActiveDuration}}},{key:"isTimeSinceLastEventAtLeast",value:function isTimeSinceLastEventAtLeast(t){var r=this.getTimeSinceLastEvent();return r?r._et>=t:!1}}])}();function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)e[o]=r[o]}return e}var Jd={read:function read(e){return e[0]==="\""&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function write(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function wt(e,t){function r(n,s,a){if(!((typeof document==="undefined"?"undefined":_typeof(document))>"u")){a=ke({},t,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var m in a)a[m]&&(c+="; "+m,a[m]!==!0&&(c+="="+a[m].split(";")[0]));return document.cookie=n+"="+e.write(s,n)+c}}function o(n){if(!((typeof document==="undefined"?"undefined":_typeof(document))>"u"||arguments.length&&!n)){for(var s=document.cookie?document.cookie.split("; "):[],a={},c=0;c<s.length;c++){var m=s[c].split("="),g=m.slice(1).join("=");try{var T=decodeURIComponent(m[0]);if(a[T]=e.read(g,T),n===T)break}catch(_){}}return n?a[n]:a}}return Object.create({set:r,get:o,remove:function remove(n,s){r(n,"",ke({},s,{expires:-1}))},withAttributes:function withAttributes(n){return wt(this.converter,ke({},this.attributes,n))},withConverter:function withConverter(n){return wt(ke({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var _t=wt(Jd,{path:"/"});var Hi=new Set(["vercel.app","netlify.app","github.io","herokuapp.com","firebaseapp.com","onrender.com","fly.dev","pages.dev","run.app","appspot.com","webflow.io","azurewebsites.net","digitaloceanspaces.com","framer.app","wpenginepowered.com","s3.amazonaws.com","elasticbeanstalk.com","cloudfront.net","surge.sh","railway.app","supabase.co","planetscale.com","upstash.com","turso.tech","neon.tech","cockroachlabs.cloud","blogspot.com","wordpress.com","medium.com","substack.com","ghost.io","ngrok.io","loca.lt","tunnelto.dev","codesandbox.io","replit.com","jsdelivr.net","unpkg.com","cdnjs.com","jsbin.com","codepen.io","workers.dev","edge.com","fastly.com","keycdn.com","bunnycdn.com"]),Ki=new Set(["co.uk","com.au","co.jp","co.in","co.za","co.nz","co.ca","com.br","com.mx","com.ar","com.co","com.pe","com.ve","com.uy","com.py","com.bo","com.ec","com.gt","com.hn","com.sv","com.ni","com.cr","com.pa","com.do","com.cu","com.pr","com.vi","com.ag","com.bb","com.bz","com.dm","com.gd","com.gy","com.jm","com.kn","com.lc","com.tt","com.vc","com.vg","com.ai","com.aw","com.bs","com.ky","com.ms","com.tc","com.tk","com.to","com.tv","com.vu","com.ws","com.ye","com.zw","com.af","com.al","com.dz","com.ao","com.bj","com.bw","com.bf","com.bi","com.cm","com.cv","com.cf","com.td","com.km","com.cg","com.cd","com.ci","com.dj","com.eg","com.gq","com.er","com.et","com.ga","com.gm","com.gh","com.gn","com.gw","com.ke","com.ls","com.lr","com.ly","com.mg","com.mw","com.ml","com.mr","com.mu","com.mz","com.na","com.ne","com.ng","com.rw","com.st","com.sn","com.sc","com.sl","com.so","com.za","com.sd","com.sz","com.tz","com.tg","com.tn","com.ug","com.zm","com.zw","com.ad","com.ae","com.ag","com.ai","com.am","com.ao","com.ar","com.as","com.at","com.au","com.aw","com.az","com.ba","com.bb","com.bd","com.be","com.bf","com.bg","com.bh","com.bi","com.bj","com.bm","com.bn","com.bo","com.br","com.bs","com.bt","com.bw","com.by","com.bz","com.ca","com.cc","com.cd","com.cf","com.cg","com.ch","com.ci","com.ck","com.cl","com.cm","com.cn","com.co","com.cr","com.cu","com.cv","com.cw","com.cx","com.cy","com.cz","com.de","com.dj","com.dk","com.dm","com.do","com.dz","com.ec","com.ee","com.eg","com.er","com.es","com.et","com.eu","com.fi","com.fj","com.fk","com.fm","com.fr","com.ga","com.gb","com.gd","com.ge","com.gf","com.gg","com.gh","com.gi","com.gl","com.gm","com.gn","com.gp","com.gq","com.gr","com.gs","com.gt","com.gu","com.gw","com.gy","com.hk","com.hn","com.hr","com.ht","com.hu","com.id","com.ie","com.il","com.im","com.in","com.io","com.iq","com.ir","com.is","com.it","com.je","com.jm","com.jo","com.jp","com.ke","com.kg","com.kh","com.ki","com.km","com.kn","com.kp","com.kr","com.kw","com.ky","com.kz","com.la","com.lb","com.lc","com.li","com.lk","com.lr","com.ls","com.lt","com.lu","com.lv","com.ly","com.ma","com.mc","com.md","com.me","com.mg","com.mh","com.mk","com.ml","com.mm","com.mn","com.mo","com.mp","com.mq","com.mr","com.ms","com.mt","com.mu","com.mv","com.mw","com.mx","com.my","com.mz","com.na","com.nc","com.ne","com.nf","com.ng","com.ni","com.nl","com.no","com.np","com.nr","com.nu","com.nz","com.om","com.pa","com.pe","com.pf","com.pg","com.ph","com.pk","com.pl","com.pm","com.pn","com.pr","com.ps","com.pt","com.pw","com.py","com.qa","com.re","com.ro","com.rs","com.ru","com.rw","com.sa","com.sb","com.sc","com.sd","com.se","com.sg","com.sh","com.si","com.sk","com.sl","com.sm","com.sn","com.so","com.sr","com.st","com.sv","com.sy","com.sz","com.tc","com.td","com.tf","com.tg","com.th","com.tj","com.tk","com.tl","com.tm","com.tn","com.to","com.tr","com.tt","com.tv","com.tw","com.tz","com.ua","com.ug","com.uk","com.uy","com.uz","com.va","com.vc","com.ve","com.vg","com.vi","com.vn","com.vu","com.wf","com.ws","com.ye","com.yt","com.za","com.zm","com.zw"]),Zd=function Zd(e){var r=e.replace(/^https?:\/\//,"").split(":")[0],o=r==null?void 0:r.split("/")[0];return o||""},Wi=function Wi(e){if(!e)return!1;var t=Zd(e);if(/^\d+\.\d+\.\d+\.\d+$/.test(t)||t==="localhost"||t.includes("@")||!t.includes("."))return!1;if(Hi.has(t)||Ki.has(t))return!0;var _iterator4=_createForOfIteratorHelper(Hi),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var r=_step4.value;if(t.endsWith("."+r))return!0}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}var _iterator5=_createForOfIteratorHelper(Ki),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _r2=_step5.value;if(t.endsWith("."+_r2)&&!t.substring(0,t.length-_r2.length-1).includes("."))return!0}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}return!1};var ef=["co.uk","gov.uk","ac.uk","com.au","co.nz","com.br"],tf=function tf(){var e=window.location.hostname.replace(/:\d+$/,""),t=e.split(".");return /^(\d{1,3}\.){3}\d{1,3}$/.test(e)||t.length<2||e==="localhost"},rf=function rf(){var e=window.location.hostname.replace(/:\d+$/,""),t=e.split(".");if(tf())return;if(Wi(e))return window.location.hostname;var r=t.slice(-2).join(".");return ef.includes(r)?".".concat(t.slice(-3).join(".")):".".concat(t.slice(-2).join("."))},Pe=function Pe(e,t){var r=window.location.protocol.includes("https"),o={domain:r?rf():void 0,expires:365,path:"/",sameSite:r?"None":"Lax",secure:r};try{_t.set(e,t,o)}catch(n){console.debug("[Ours] - Failed to set cookie",n)}},Ce=function Ce(e){try{return _t.get(e)}catch(t){console.debug("[Ours] - Failed to get cookie",t);return}};var St=/*#__PURE__*/function(){function St(){_classCallCheck(this,St);this.sid=null;this.wasReset=!1;this.SESSION_COOKIE_NAME="ours_sid";this.SESSION_DURATION_MS=1800*1e3;this.SESSION_PREFIX="sid_";this.wasInitialized=!1}return _createClass(St,[{key:"initializeSessionId",value:function initializeSessionId(){var t=Ce(this.SESSION_COOKIE_NAME);if(!t){this.resetSessionId();return}var r=parseInt(t.replace(this.SESSION_PREFIX,""),10),o=Date.now();isNaN(r)||o-r>this.SESSION_DURATION_MS?this.resetSessionId():this.sid=t}},{key:"generateSessionId",value:function generateSessionId(){var t=Date.now();return"".concat(this.SESSION_PREFIX).concat(t)}},{key:"resetSessionId",value:function resetSessionId(){this.sid=this.generateSessionId(),this.wasReset=!0,Pe(this.SESSION_COOKIE_NAME,this.sid)}},{key:"getSessionId",value:function getSessionId(){return this.wasInitialized||(this.initializeSessionId(),this.wasInitialized=!0),this.sid?this.sid.replace(this.SESSION_PREFIX,""):""}},{key:"wasSessionReset",value:function wasSessionReset(){return this.wasInitialized||(this.initializeSessionId(),this.wasInitialized=!0),this.wasReset}}])}(),Qi=new St,De=function De(){return Qi.getSessionId()},Xi=function Xi(){return Qi.wasSessionReset()};var Yi=function Yi(e,t){return e.length>t?e.slice(0,t):e};var Le=/*#__PURE__*/function(){function Le(t){_classCallCheck(this,Le);this.currentPath="";this.hasFiredScroll=!1;this.hasFiredAPageView=!1;this.interactedForms=new Set;this.eventHandlers=[];this.eventQueue=[];this.MIN_ENGAGEMENT_TIME_MS=1e4;this.searchParams=t!=null?t:["q","s","search","query","keyword","term"],this.timeTracker=new Ie,this.init()}return _createClass(Le,[{key:"init",value:function init(){this.trackPageView(),this.listenForRouteChanges(),this.listenForScroll(),this.listenForOutboundClicks(),this.listenForFileDownloads(),this.listenForFormEvents(),this.listenForUserEngagement()}},{key:"isFirstVisit",value:function isFirstVisit(){return x("_ours_first_visit")?!1:(E("_ours_first_visit",String(Date.now())),!0)}},{key:"trackPageView",value:function trackPageView(){var t=location.pathname+location.search;if(t!==this.currentPath){this.currentPath=t,this.hasFiredScroll=!1;var r={is_first_visit:this.isFirstVisit(),is_new_session:Xi()};if(this.hasFiredAPageView){var o=this.timeTracker.getTimeSinceLastEvent();o&&Object.assign(r,o)}this.track(S.PAGE_VIEW,r),this.hasFiredAPageView=!0,this.checkSearchParam()}}},{key:"checkSearchParam",value:function checkSearchParam(){var t=new URL(location.href);var _iterator6=_createForOfIteratorHelper(this.searchParams),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var r=_step6.value;var o=t.searchParams.get(r);if(o){var n=p({search_term:o,search_parameter:r,page_location:t.href},this.getEngagementTimeSinceLastEvent());this.setEngagedSession(),this.track(S.VIEW_SEARCH_RESULTS,n);break}}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}}},{key:"listenForRouteChanges",value:function listenForRouteChanges(){var _this=this;var t=function t(){return _this.trackPageView()},r=history.pushState;history.pushState=function(){for(var _len6=arguments.length,o=new Array(_len6),_key6=0;_key6<_len6;_key6++){o[_key6]=arguments[_key6]}r.apply(history,o),setTimeout(function(){return _this.trackPageView()},0)},window.addEventListener("popstate",t),this.eventHandlers.push(function(){return window.removeEventListener("popstate",t)})}},{key:"listenForScroll",value:function listenForScroll(){var _this2=this;var t=function t(){if(_this2.hasFiredScroll)return;var r=window.scrollY+window.innerHeight,o=document.documentElement.scrollHeight;if(r/o>=.9){_this2.hasFiredScroll=!0;var n=p({percent_scrolled:90},_this2.getEngagementTimeSinceLastEvent());_this2.setEngagedSession(),_this2.track(S.SCROLL,n)}};t(),window.addEventListener("scroll",t,{passive:!0}),this.eventHandlers.push(function(){return window.removeEventListener("scroll",t)})}},{key:"listenForOutboundClicks",value:function listenForOutboundClicks(){var _this3=this;var t=function t(r){var o=l.getEnhancedWebEvents(),n=r.target.closest("a");if(!n||!n.href)return;var s=new URL(n.href);if(!(s.hostname!==location.hostname||["mailto:","tel:"].includes(s.protocol)))return;var c=p(p({link_url:s.href,link_domain:s.hostname,outbound:!0,protocol:s.protocol.replace(":","")},o?{click_text:Yi((n.textContent||"").trim(),1e3)}:{}),_this3.getEngagementTimeSinceLastEvent());_this3.setEngagedSession(),_this3.track(S.CLICK,c)};document.addEventListener("click",t),this.eventHandlers.push(function(){return document.removeEventListener("click",t)})}},{key:"listenForFileDownloads",value:function listenForFileDownloads(){var _this4=this;var t=["pdf","doc","docx","xls","xlsx","ppt","pptx","csv","zip","rar","7z","mp4","mov","avi","txt","json","xml","exe","apk","msi","dmg"],r=function r(o){var m;var n=o.target.closest("a");if(!n||!n.href)return;var s=new URL(n.href),a=(m=s.pathname.split(".").pop())==null?void 0:m.toLowerCase();if(!a||!t.includes(a))return;var c=p({file_name:s.pathname.split("/").pop(),file_extension:a,link_url:s.href},_this4.getEngagementTimeSinceLastEvent());_this4.setEngagedSession(),_this4.track(S.FILE_DOWNLOAD,c)};document.addEventListener("click",r),this.eventHandlers.push(function(){return document.removeEventListener("click",r)})}},{key:"listenForFormEvents",value:function listenForFormEvents(){var _this5=this;var t=function t(o){var n=o.target.closest("form");if(!n)return;var s="".concat(n.action,"|").concat(n.id,"|").concat(n.getAttribute("name"));if(_this5.interactedForms.has(s))return;_this5.interactedForms.add(s);var a=p({form_id:n.id||void 0,form_name:n.getAttribute("name")||void 0,page_location:location.href},_this5.getEngagementTimeSinceLastEvent());_this5.setEngagedSession(),_this5.track(S.FORM_START,a)},r=function r(o){var n=o.target;if(!n)return;var s=p({form_id:n.id||void 0,form_name:n.getAttribute("name")||void 0,page_location:location.href},_this5.getEngagementTimeSinceLastEvent());_this5.setEngagedSession(),_this5.track(S.FORM_SUBMIT,s)};document.addEventListener("focusin",t),document.addEventListener("submit",r),this.eventHandlers.push(function(){return document.removeEventListener("focusin",t)}),this.eventHandlers.push(function(){return document.removeEventListener("submit",r)})}},{key:"listenForUserEngagement",value:function listenForUserEngagement(){var _this6=this;var t=function t(){(_this6.isEngagedSession()||_this6.timeTracker.getEventCount()===1&&_this6.timeTracker.isTimeSinceLastEventAtLeast(_this6.MIN_ENGAGEMENT_TIME_MS))&&_this6.track(S.USER_ENGAGEMENT,p({},_this6.timeTracker.getTimeSinceLastEvent()))};window.addEventListener("beforeunload",t),this.eventHandlers.push(function(){return window.removeEventListener("beforeunload",t)})}},{key:"resetScrollTracking",value:function resetScrollTracking(){this.hasFiredScroll=!1}},{key:"destroy",value:function destroy(){this.eventHandlers.forEach(function(t){return t()}),this.eventHandlers.length=0}},{key:"getEventQueue",value:function getEventQueue(){var t=(0,Ji["default"])(this.eventQueue);return this.eventQueue.length=0,l.getIsDebugMode()&&t.forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),o=_ref2[1];o.debug_mode="true"}),t}},{key:"getEngagementTimeSinceLastEvent",value:function getEngagementTimeSinceLastEvent(){return this.timeTracker.getTimeSinceLastEvent()}},{key:"setEngagedSession",value:function setEngagedSession(){E("ours_engaged_session","true")}},{key:"isEngagedSession",value:function isEngagedSession(){return x("ours_engaged_session")==="true"}},{key:"track",value:function track(t,r){r.is_engaged_session=this.isEngagedSession()?1:0,this.timeTracker.recordEvent(),this.eventQueue.push([t,r])}}])}();var Zi=Lt(L());var ce="ours_device_id",xt="ours_initialized_value";var Tt=/*#__PURE__*/_createClass(function Tt(){_classCallCheck(this,Tt);this.testToken=null;this.userId=null;if((typeof window==="undefined"?"undefined":_typeof(window))>"u")return;var t=new URLSearchParams(window.location.search);this.testToken=t.get("ours_test_token"),this.userId=t.get("ours_user_id")}),je=new Tt;var A=function A(e){Pe(ce,e),E(ce,e),me.set(e)},K=function K(){if(me.get())return me.get();var e=je.userId;if(e)return U.set(!0),A(e),e;var t=Ce(ce);if(t)return A(t),t;var r=x(ce);if(r)return A(r),r;var o=k();return A(o),o},es=function es(e){var t=(0,Zi["default"])(e)&&"user_id"in e?e.user_id:void 0;if(t){if(typeof t!="string"||t.length<3){u.warn("[Ours] - The user_id passed into init is too short");return}return U.set(!0),A(t),t}};var ts={isTestToken:function isTestToken(e){return e.startsWith("test_")},fromTestToken:function fromTestToken(e){return this.isTestToken(e)?e.replace("test_",""):e},toTestToken:function toTestToken(e){if(this.isTestToken(e))throw new Error("Token is already a test token");return"test_".concat(e)}};var Et=/*#__PURE__*/function(){function Et(){_classCallCheck(this,Et);this.token=null;this.tokenSetFromParams=!1;var t=je.testToken,r=de("ours_token_set_from_params"),o=t||r;o&&(this.token=o,this.tokenSetFromParams=!0,W("ours_token_set_from_params",o),u.warn("[Ours] A test token is being used. So, events will save in the dashboard but not be dispatched"))}return _createClass(Et,[{key:"setToken",value:function setToken(t){if(!this.tokenSetFromParams){if(!t||t==="null"||t==="undefined"){u.warn("[Ours] - Falsy token provided to setToken");return}t.length>=32&&u.warn("[Ours] - Token length is gte 32. This seems unlikely. Please ensure you are including the correct token."),ts.isTestToken(t)&&u.warn("[Ours] A test token is being used. So, events will save in the dashboard but not be dispatched"),this.token=t}}},{key:"reset",value:function reset(){this.token=null,this.tokenSetFromParams=!1,W("ours_token_set_from_params","")}}])}(),rs=new Et,os=function os(){return rs.token},ns=function ns(e){rs.setToken(e)};var Ue=/*#__PURE__*/function(){function Ue(t){_classCallCheck(this,Ue);this.isLoaded=!1;this.token=t}return _createClass(Ue,[{key:"initialize",value:function(){var _initialize=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(){var t,_t4;return _regenerator().w(function(_context){while(1)switch(_context.p=_context.n){case 0:if(!this.isLoaded){_context.n=1;break}u.debug("[Ours] - Session replay already loaded");return _context.a(2);case 1:_context.p=1;t=l.getIngestDomain();t.pathname="replay-init";t.searchParams.append("token",this.token);u.debug("[Ours] - Loading session replay script",{url:t.toString()});_context.n=2;return this.loadScript(t.toString());case 2:this.isLoaded=!0;u.debug("[Ours] - Session replay script loaded successfully");_context.n=4;break;case 3:_context.p=3;_t4=_context.v;throw u.error("[Ours] - Error loading session replay script",_t4),_t4;case 4:return _context.a(2)}},_callee,this,[[1,3]])}));function initialize(){return _initialize.apply(this,arguments)}return initialize}()},{key:"start",value:function start(){if(!this.isLoaded){u.warn("[Ours] - Session replay not loaded, cannot start");return}try{window.ours_replay&&typeof window.ours_replay.start=="function"?(window.ours_replay.start(),u.debug("[Ours] - Session replay started")):u.warn("[Ours] - Session replay not available on window.ours_replay")}catch(t){u.error("[Ours] - Error starting session replay",t)}}},{key:"init",value:function init(t,r,o){if(!this.isLoaded){u.warn("[Ours] - Session replay not loaded, cannot initialize");return}try{window.ours_replay&&typeof window.ours_replay.init=="function"?(window.ours_replay.init(p({visitor_id:t,session_id:r},o!==void 0?{maskAllText:o}:{})),u.debug("[Ours] - Session replay initialized",{visitorId:t,sessionId:r,mask_all_text:o})):u.warn("[Ours] - Session replay not available on window.ours_replay")}catch(n){u.error("[Ours] - Error initializing session replay",n)}}},{key:"loadInitStart",value:function(){var _loadInitStart=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(t){var r,o,_t5;return _regenerator().w(function(_context2){while(1)switch(_context2.p=_context2.n){case 0:_context2.p=0;_context2.n=1;return this.initialize();case 1:r=K(),o=De();r&&o?(this.init(r,o,t),l.getSessionReplayStart()?this.start():u.debug("[Ours] - Session replay not started - start flag is false")):u.warn("[Ours] - Missing visitor_id or session_id for session replay initialization");_context2.n=3;break;case 2:_context2.p=2;_t5=_context2.v;throw u.error("[Ours] - Error in session replay loadInitStart",_t5),_t5;case 3:return _context2.a(2)}},_callee2,this,[[0,2]])}));function loadInitStart(_x){return _loadInitStart.apply(this,arguments)}return loadInitStart}()},{key:"loadScript",value:function loadScript(t){return new Promise(function(r,o){if(Array.from(document.getElementsByTagName("script")).find(function(a){return a.src===t})){r();return}var s=document.createElement("script");s.src=t,s.async=!0,s.onload=function(){return r()},s.onerror=function(){return o(new Error("Failed to load script: ".concat(t)))},document.head.appendChild(s)})}}])}();var of=function of(e){var t;if(typeof(e==null?void 0:e.track_web_events)=="boolean"&&l.setTrackWebEvents(e.track_web_events),typeof(e==null?void 0:e.enhanced_web_events)=="boolean"&&l.setEnhancedWebEvents(e.enhanced_web_events),_typeof(e==null?void 0:e.default_event_properties)=="object"&&l.setDefaultEventProperties(e.default_event_properties),_typeof(e==null?void 0:e.default_user_custom_properties)=="object"&&l.setDefaultUserCustomProperties(e.default_user_custom_properties),_typeof(e==null?void 0:e.default_user_consent_properties)=="object"&&l.setDefaultUserConsentProperties(e.default_user_consent_properties),typeof(e==null?void 0:e.force_ipv4)=="boolean"&&l.setForceIpv4(e.force_ipv4),typeof(e==null?void 0:e.custom_domain)=="string"&&l.setCustomDomain(e.custom_domain),typeof(e==null?void 0:e.custom_domain_ipv4)=="string"&&l.setCustomDomainIpv4(e.custom_domain_ipv4),e!=null&&e.session_replay&&l.setSessionReplay(e.session_replay),(t=e==null?void 0:e.session_replay)!=null&&t.token){var r=new Ue(e.session_replay.token);l.appendDefaultEventProperties({has_session_replay:!0}),r.loadInitStart(e.session_replay.mask_all_text)["catch"](function(o){u.error("[Ours] - Error initializing session replay",o)})}},nf=function nf(e){var _iterator7=_createForOfIteratorHelper(e),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var t=_step7.value;t[0]==="init"&&t[1].toString()!=="187645735503476"&&(ns(t[1]),es(t[2]),of(t[2]))}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}},is=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3(){var t,e;return _regenerator().w(function(_context3){while(1)switch(_context3.n){case 0:if(!((typeof window==="undefined"?"undefined":_typeof(window))>"u")){_context3.n=1;break}return _context3.a(2);case 1:e=((t=window.ours)==null?void 0:t.queue)||[];nf(e);case 2:return _context3.a(2)}},_callee3)}));return function is(){return _ref3.apply(this,arguments)}}();var Re=/*#__PURE__*/function(){function Re(){var _this7=this;_classCallCheck(this,Re);this.handleVisibilityChange=function(){document.visibilityState==="hidden"?(_this7.updateActiveDuration(),_this7.isActive=!1):(_this7.startTime=Date.now(),_this7.isActive=!0)};this.startTime=Date.now(),this.totalActiveDuration=0,this.isActive=!0,document.addEventListener("visibilitychange",this.handleVisibilityChange)}return _createClass(Re,[{key:"updateActiveDuration",value:function updateActiveDuration(){return this.isActive&&(this.totalActiveDuration+=Date.now()-this.startTime),this.startTime=Date.now(),this.totalActiveDuration}},{key:"resetCount",value:function resetCount(){this.startTime=Date.now(),this.totalActiveDuration=0,this.isActive=!0}},{key:"getActiveDuration",value:function getActiveDuration(){return this.updateActiveDuration()}},{key:"getCurrentDuration",value:function getCurrentDuration(){return Date.now()-this.startTime}},{key:"stopTracking",value:function stopTracking(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}}])}();var ss=function ss(e,t){if(!e)return;var r="fb",o=t.split(".").length-1;return"".concat(r,".").concat(o,".").concat(Date.now(),".").concat(e)};function as(){var e=navigator.userAgent||navigator.vendor,t=[/FBAN|FBAV/,/Instagram/,/Line/,/wv/,/Mobile.*Safari/],r=window.navigator.standalone===!0,o=t.some(function(s){return s.test(e)}),n=window.matchMedia("(display-mode: standalone)").matches||r;return o||n}try{sessionStorage.isNewSession||(E("o_session_count",String(Number(x("o_session_count"))+1)),sessionStorage.isNewSession=!0)}catch(e){}var cs=function cs(){return Number(x("o_session_count"))||0};var us=function us(e){var t=new URLSearchParams(window.location.search),r=Array.from(t.entries()).reduce(function(s,a){return s[a[0].toLowerCase()]=a[1],s},{}),o=e.map(function(s){var a=r[s.toLowerCase()];return a?{param:s,value:a}:void 0}).filter(he),n=window.document.referrer;return n&&o.push({param:"referrer",value:n}),o.reduce(function(s,a){return s[a.param]=a.value,s},{})};function sf(){return _sf.apply(this,arguments)}function _sf(){_sf=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee1(){var _t27,_t28;return _regenerator().w(function(_context1){while(1)switch(_context1.n){case 0:if(!(window.navigator.userAgentData&&window.navigator.userAgentData.getHighEntropyValues)){_context1.n=2;break}_context1.n=1;return window.navigator.userAgentData.getHighEntropyValues(["fullVersionList"]);case 1:_t28=_context1.v.fullVersionList;_t27={fullVersionList:_t28};_context1.n=3;break;case 2:_t27={userAgent:navigator.userAgent};case 3:return _context1.a(2,_t27)}},_callee1)}));return _sf.apply(this,arguments)}function af(e){if(e.fullVersionList)return e.fullVersionList.map(function(r){return"".concat(encodeURIComponent(r.brand),";").concat(r.version)}).join("|");if(e.userAgent){var t=e.userAgent,r=t.match(/(Chrome|Firefox|Safari|Edge|Opera|MSIE|Trident)[\s/]?([\d.]+)/i),o=t.match(/\(([^)]+)\)/),n=[];return r&&n.push("".concat(r[1],";").concat(r[2])),o&&n.push("OS;".concat(o[1])),n.join("|")}return""}function ls(){return _ls.apply(this,arguments)}function _ls(){_ls=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee10(){var e;return _regenerator().w(function(_context10){while(1)switch(_context10.n){case 0:if(!((typeof window==="undefined"?"undefined":_typeof(window))>"u")){_context10.n=1;break}return _context10.a(2,"");case 1:_context10.n=2;return sf();case 2:e=_context10.v;return _context10.a(2,af(e))}},_callee10)}));return _ls.apply(this,arguments)}var ms=function ms(e){try{return new URL(e).hostname}catch(t){return}};var cf=["utm_source","utm_medium","utm_campaign","utm_content","utm_name","utm_term","fbclid","ad_id","adset_id","campaign_id","alart","aleid","gclid","ndclid","dclid","qclid","gad_source","gbraid","wbraid","msclkid","li_fat_id","ttclid","twclid","clickid","rdt_cid","sccid","irclickid","im_ref","clid","epik","sacid","basis_cid","li_did"];function uf(e,t){if(!t)return e;for(var r in t){var o=t[r];if(o){var n=o.value,s=o.behavior;(s==="override"||s==="fallback"&&!e[r])&&(e[r]=n)}}return e}var lf=ls(),mf=Date.now(),Fe=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4(e,t){var a,r,o,n,s,_t6,_t7,_t8,_t9,_t0,_t1,_t10,_t11,_t12,_t13,_t14,_t15;return _regenerator().w(function(_context4){while(1)switch(_context4.n){case 0:a=us(cf);r=a.fbclid;o=a.gclid;n=Dt(a,["fbclid","gclid"]);_t6=D;_t7=p;_t8=navigator.language.toLowerCase()||document.documentElement.lang;_t9=document.characterSet;_context4.n=1;return lf;case 1:_t0=_context4.v;_t1=mf;_t10=window.location.href;_t11=as();_t12=window.top!==window.self;_t13=cs();_t14=e.getCurrentDuration();_t15=e.getActiveDuration();s=_t6(_t7({browser_language:_t8,encoding:_t9,uafvl:_t0,page_hash:_t1,current_url:_t10,webview:_t11,iframe:_t12,sessionCount:_t13,duration:_t14,activeDuration:_t15},n),{clickid:n.clickid||n.li_did,sid:De(),fbc:r?ss(r,window.location.host):void 0,fbclid:r,fbp:pf(),gclid:o?df(o):void 0,host:window.location.host,pathname:window.location.pathname,referrer:document.referrer,referring_domain:ms(document.referrer),screen_height:window.screen.height,screen_width:window.screen.width,title:document.title,user_agent:navigator.userAgent,version:"1.0.0",sr:"".concat(window.screen.width,"x").concat(window.screen.height)});return _context4.a(2,uf(s,t))}},_callee4)}));return function Fe(_x2,_x3){return _ref4.apply(this,arguments)}}(),pf=function pf(){var e=x(xt);if(e)return e;var t="fb",r=location.host.split(".").length-1,o="".concat(t,".").concat(r,".").concat(Date.now(),".").concat(Math.floor(Date.now()/1e3));return E(xt,o),o},df=function df(e){if(e)return e};var ff=function ff(e){var t=l.getDefaultUserCustomProperties(),r=l.getDefaultUserConsentProperties(),o=t&&Object.keys(t).length>0,n=r&&Object.keys(r).length>0;return!o&&!n?e:D(p({},e),{custom_properties:p(p({},t),e==null?void 0:e.custom_properties),consent:p(p({},r),e==null?void 0:e.consent)})},ps=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee5(e){var c,r,o,n,s,a,_args5=arguments;return _regenerator().w(function(_context5){while(1)switch(_context5.n){case 0:_context5.n=1;return Fe(e,_args5.length<=5?undefined:_args5[5]);case 1:r=_context5.v;o=l.getDefaultEventProperties();n=p(p({},o),(c=_args5.length<=3?undefined:_args5[3])!=null?c:{});s=ff(_args5.length<=4?undefined:_args5[4]);a=(n.$distinct_id||k()).toString();return _context5.a(2,{defaultProperties:r,distinct_id:a,event:_args5.length<=2?undefined:_args5[2],eventProperties:n,userProperties:s,visitor_id:K()})}},_callee5)}));return function ps(_x4){return _ref5.apply(this,arguments)}}();var ds=function ds(e,t){return fetch(e,t)};var fs=function fs(e){var t=[];var _iterator8=_createForOfIteratorHelper(e),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var r=_step8.value;var o=r[0];if(o==="updateDefaultEventProperties"){var n=r[1];l.setDefaultEventProperties(n)}else if(o==="updateDefaultUserCustomProperties"){var _n2=r[1];l.setDefaultUserCustomProperties(_n2)}else if(o==="updateDefaultUserConsentProperties"){var _n3=r[1];l.setDefaultUserConsentProperties(_n3)}else t.push(r)}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}return t};var Me,At,gf=function gf(e){if(e&&e!==null)A(e);else{var t=k();A(t)}U.set(!0)},Ot=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee7(e){return _regenerator().w(function(_context7){while(1)switch(_context7.n){case 0:_context7.n=1;return Promise.all(e.map(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee6(t){var r,_t16,_t17;return _regenerator().w(function(_context6){while(1)switch(_context6.n){case 0:r=t[0];if(!(r==="track")){_context6.n=2;break}_context6.n=1;return ps.apply(void 0,[Me].concat(_toConsumableArray(t)));case 1:_t16=_context6.v;_context6.n=6;break;case 2:if(!(r==="identify")){_context6.n=4;break}_context6.n=3;return vf.apply(void 0,_toConsumableArray(t));case 3:_t17=_context6.v;_context6.n=5;break;case 4:_t17=null;case 5:_t16=_t17;case 6:return _context6.a(2,_t16)}},_callee6)}));return function(_x6){return _ref7.apply(this,arguments)}}()));case 1:return _context7.a(2,_context7.v.filter(he))}},_callee7)}));return function Ot(_x5){return _ref6.apply(this,arguments)}}(),qt=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee8(e,t){var r,o,n,s,_r$queue,a,c,m,g,_s$queue,_t18,_t19;return _regenerator().w(function(_context8){while(1)switch(_context8.p=_context8.n){case 0:if(!(t.length!==0)){_context8.n=8;break}_context8.p=1;a=l.getIngestDomain();a.pathname="ingest";c=a.toString();_context8.n=2;return ds(c,{body:yf(e,t),credentials:"include",keepalive:!0,method:"POST"});case 2:m=_context8.v;m.ok||(r=window.ours)==null||(_r$queue=r.queue).push.apply(_r$queue,_toConsumableArray(t));_context8.p=3;_context8.n=4;return m.json();case 4:g=_context8.v;g.success&&g.visitor_id&&A(g.visitor_id);_context8.n=6;break;case 5:_context8.p=5;_t18=_context8.v;(n=(o=u).debug)==null||n.call(o,"[Ours] - Failed to parse response JSON for visitor_id",_t18);case 6:_context8.n=8;break;case 7:_context8.p=7;_t19=_context8.v;u.error("[Ours] - Error sending events",_t19),(s=window.ours)==null||(_s$queue=s.queue).push.apply(_s$queue,_toConsumableArray(t)),setTimeout(function(){O()},1e3);case 8:return _context8.a(2)}},_callee8,null,[[3,5],[1,7]])}));return function qt(_x7,_x8){return _ref8.apply(this,arguments)}}(),hf=function hf(e){var r,o,n;if((typeof window==="undefined"?"undefined":_typeof(window))>"u"||!((r=window.ours)!=null&&r.queue))return[];var t=(o=window.ours)==null?void 0:o.queue.slice(0,e);return window.ours.queue=(n=window.ours)==null?void 0:n.queue.slice(e),t},vf=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee9(){var t,_args9=arguments,_t20,_t21,_t22,_t23;return _regenerator().w(function(_context9){while(1)switch(_context9.n){case 0:_context9.n=1;return Fe(Me);case 1:_t20=_context9.v;_t21=(t=_args9.length<=1?undefined:_args9[1])!=null?t:{};_t22=K();_t23=k();return _context9.a(2,{defaultProperties:_t20,userProperties:_t21,visitor_id:_t22,event:"$identify",distinct_id:_t23})}},_callee9)}));return function vf(){return _ref9.apply(this,arguments)}}(),yf=function yf(e,t){return JSON.stringify({data:t,token:e,is_manually_set_id:U.get()})},bf=function bf(e,t){var r=[];var _iterator9=_createForOfIteratorHelper(e),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var o=_step9.value;var _o2=_slicedToArray(o,2),n=_o2[0],s=_o2[1],a=["track",n,s];r.push(a)}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}var _iterator0=_createForOfIteratorHelper(t),_step0;try{for(_iterator0.s();!(_step0=_iterator0.n()).done;){var _o3=_step0.value;r.push(_o3)}}catch(err){_iterator0.e(err)}finally{_iterator0.f()}return r},O=/*#__PURE__*/function(){var _ref0=_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee0(){var e,t,r,o,n,s,c,m,g,T,ue,_,a,_t24,_t25,_t26;return _regenerator().w(function(_context0){while(1)switch(_context0.n){case 0:At||(At=new Le),Me||(Me=new Re),is();e=os();if(e){_context0.n=1;break}return _context0.a(2);case 1:t=l.getTrackWebEvents()?At.getEventQueue():[],r=hf(200),o=bf(t,r),n=fs(o),s=n.findIndex(function(c){return c[0]==="reset"});if(!(s!==-1)){_context0.n=7;break}c=n.slice(0,s);m=n[s];g=n.slice(s+1);_context0.n=2;return Ot(c);case 2:T=_context0.v;_t24=T.length>0;if(!_t24){_context0.n=3;break}_context0.n=3;return qt(e,T);case 3:if(!m){_context0.n=4;break}ue=m[1];gf(ue),g.unshift(["track","$reset"]);case 4:_context0.n=5;return Ot(g);case 5:_=_context0.v;_t25=_.length>0;if(!_t25){_context0.n=6;break}_context0.n=6;return qt(e,_);case 6:return _context0.a(2);case 7:_context0.n=8;return Ot(n);case 8:a=_context0.v;_t26=a.length!==0;if(!_t26){_context0.n=9;break}_context0.n=9;return qt(e,a);case 9:return _context0.a(2)}},_callee0)}));return function O(){return _ref0.apply(this,arguments)}}();var gs=function gs(){var r;if((r=window.ours_data)!=null&&r.sdk_initialized&&window.ours)return;jt(),Mt(),new pe().initialize(),window.addEventListener("visibilitychange",O),window.addEventListener("beforeunload",O),window.addEventListener("popstate",O),window.addEventListener("pagehide",O),setInterval(O,3e3);var t=Nt(function(){setTimeout(function(){O()},5)});return t("identify",{}),O(),t};gs()})();/*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*/
})();
